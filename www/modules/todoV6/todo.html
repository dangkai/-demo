<style>
.item-content{
	padding-right:16px !important;
}
</style>
<ion-modal-view ng-controller="TodoCtrl">
	<ion-header-bar class="bar-positive" align-title="center">
		<div class="buttons">
			<button class="button button-icon icon ion-ios-arrow-left button-clear" ng-click="todoModal.close()">
				返回
			</button>
		</div>
		<h1 class="title">待办事宜</h1>
	</ion-header-bar>
	<ion-content>
		<ion-refresher pulling-text="下拉刷新" on-refresh="todoModal.doRefresh()"></ion-refresher>
		<ion-list>
			<ion-item ng-click="todoModal.gotoDetail($index)" ng-repeat="item in todoModal.listData">
				<span style='float:right'>
					<i class="ion-clock" style="color:green;padding-right:5px"></i>
					{{item.cTime.substr(0,10)}}
				</span>
				<h3 style="color:#888888">{{item.taskSendUser}}</h3>
				 <p style="padding-top:5px;">
					<span style="font-weight:bold;padding-right:5px;">{{item.processDefName}}</span>
					<span>{{item.taskTitle}}</span>
					<i class="ion-flag" ng-style="todoModal.statusStyle" style="color:red;float: right">{{todoModal.getStatus(item.taskType)}}</i>
				</p>
				<ion-option-button class="button-assertive" ng-style="todoModal.statusStyle" ng-click="todoModal.finishTask($index)">
		          	标记完成
		        </ion-option-button>
			</ion-item>
		</ion-list>
		<ion-infinite-scroll ng-if="todoModal.moredata" on-infinite="todoModal.loadMore()" distance="1%" ></ion-infinite-scroll>
	</ion-content>
</ion-modal-view>

